# [주문] 기능 요구사항 정의

1. (CREATE) 유저는 상품을 주문할 수 있다.
    -[ ] 유저가 장바구니/상품 페이지에서 주문하기를 클릭하면 주문서 페이지로 넘어간다.
    -[ ] 주문서 페이지에서 결제하기 api를 요청하면 주문 상품 -> 주문 -> 결제 -> 주문이력 엔티티를 생성한다.(결제 대기 -> ...)
    -[X] Order request: member.email(member의 인증 정보), 결제수단, 주문 상품
        - 나머지는 직접 생성: ~~주문 상태, 주문 번호, 주문 상품 수, 주문 금액,~~ 주문 완료 일시
        - ~~배송비는 우선 아예 안 받는 것으로 한다. deliveryFee default 0;(무료배송)~~
    -[X] OrderItem request: member.email(member의 인증 정보), product_item_id(상품명, 상품사진, 옵션, 가격), 수량
    -[ ] Order response: orderId (결제 또는 배송한테 던져줄 용...?)
    -[X] 주문 엔티티 생성과 함께 주문 이력 엔티티도 생성된다.
    -[ ] 추후, 재고 DB와 연동하여 주문 행위에 따라 재고 관리가 되도록 한다.
2. (READ) 유저는 주문한 상품의 내역을 확인할 수 있다.
    -[ ] 유저가 주문 내역 api를 요청하면 delete_status=false 인 내역만 반환한다.
    -[X] request: member.email(member의 인증 정보)
    -[ ] response: order List
        - ~~주문번호/주문한 날짜/총 결제 금액~~
        - ~~주문 상태~~
        - ~~상품 이미지/주문한 상품명/옵션/수량/가격~~
        - 예상 도착일(배송 도착 전 상품들만)
    -[ ] 유저는 주문 내역을 기간별로 필터링할 수 있다.
3. (READ) 유저는 주문한 상품의 상세 내역을 확인할 수 있다.
    -[ ] 유저가 주문 상세 내역 api를 요청하면 상세 내역을 반환한다.
    -[ ] request: member.email(member의 인증 정보), orderId
    -[ ] response: order, orderItem List
        - 결제 금액 (합계, ~~할인 금액~~, 배송비, 총 결제 금액)
        - 결제 수단
        - 상품 이미지/주문한 상품명/옵션/수량/가격
        - 주문 번호(orderNumber)
        - 주문 상태 및 배송 상태 (발송 준비 중(배송 전), 배송 중, 주문 완료)
        - 날짜 (주문일, 결제 완료일, 발송 완료일, 주문 완료일)
        - 상품 정보 (상품 이미지, 상품 명, 상품 수량, 옵션, 상품 가격)
        - 배송 정보 (받는 사람 이름, 휴대폰 번호, 배송지 정보, 우편번호, 상세한 주소, 배송 요청 사항, 예상 도착일)
        - 판매 업체
    -[ ] 추후, 판매자별로 주문 내역이 생기도록 한다.
    -[ ] 같은 판매자의 상품은 같은 주문 내역에 List로 조회되도록 한다.
4. (UPDATE) 유저는 결제 후 일정 기간 내 주문을 취소할 수 있다.
    -[ ] 주문이 출고되지 않은 경우 즉시 결제 취소가 가능하며, 출고된 경우 취소가 불가능하고 반품 절차로 전환된다.
    -[ ] 결제 취소가 완료되면 주문 상태를 ‘취소 완료’로 업데이트한다.
    -[ ] request: member.email(member의 인증 정보), orderId
    -[ ] 주문 상태를 결제 취소로 업데이트한다.
    -[ ] response: 없다.
5. (DELETE) 유저는 주문 내역을 제거할 수 있다.
    -[ ] 유저가 주문 내역 삭제(버튼) api를 요청하면, delete_status=true 로 업데이트한다.
    -[ ] response: 없다.
    -[ ] request: member.email(member의 인증 정보), orderId
    -[ ] 해당 상품의 delete_status=true로 update 한다.
